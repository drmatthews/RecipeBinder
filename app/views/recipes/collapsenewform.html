<% provide(:title, 'New recipe') %>
<h1>New recipe</h1>

<div id = "newrecipe", class="row">
  <div class="span8 offset2">
  	
  	  <div class="accordion" id="accordion1">
        <div class="accordion-group">
          <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion1" href="#collapseOne">
               Recipe details
            </a>
          </div>
          <div id="collapseOne" class="accordion-body collapse in">
            <div class="accordion-inner">
              <%= nested_form_for(@recipe, options={:url => current_user}) do |f| %>
                <%= render 'shared/error_messages', object: f.object %>

                <%= f.label :title %>
                <%= f.text_field :title %>
      
                <%= f.label :chef %>
                <%= f.text_field :chef %>
      
                <%= f.label :category %>
                <%= f.text_field :category %>  
            </div>
          </div>
        </div>
      </div>
      
      <div class="accordion" id="accordion1">
        <div class="accordion-group">
          <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion1" href="#collapseTwo">
               Ingredients
            </a>
          </div>
          <div id="collapseTwo" class="accordion-body collapse">
            <div class="accordion-inner" id = "ingredientsInner">
                  <%= f.fields_for :ingredients do |ingredient_fields| %>
                  <p>
                    <%= ingredient_fields.text_field :content, :rows => 3 %></br>
                    <%= ingredient_fields.link_to_remove "Remove" %>
                  </p>
                  <% end %>
			  <p><%= f.link_to_add "Add ingredient", :ingredients, class:"btn btn-success" %></p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="accordion" id="accordion1">
        <div class="accordion-group">
          <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion1" href="#collapseThree">
               Method
            </a>
          </div>
          <div id="collapseThree" class="accordion-body collapse">
            <div class="accordion-inner">
              <%= f.fields_for :steps do |step_fields| %>
                <%= step_fields.text_area :content, :rows => 3 %></br>
                    <%= step_fields.link_to_remove "Remove" %>
                  </p>
                  <% end %>
			  <p><%= f.link_to_add "Add method", :steps, class:"btn btn-success" %></p>  
            </div>
          </div>
        </div>
      </div>           
      <%= f.submit "Create my recipe", class: "btn btn-large btn-primary" %>
    <% end %>
  </div>
</div>