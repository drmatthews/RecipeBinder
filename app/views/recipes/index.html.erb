<div class="row-fluid">
	<aside class="span2">
		<% if current_user %>
		<section id="newRecipeSection">
			<li>
				<%= link_to "New Recipe!", new_recipe_path, :id => "newRecipeBtn", :class => "btn btn-primary", remote: true %>
			</li>
		</section>
		<section>
			<li>
				<%= link_to "Shopping List", items_path, :class => "btn btn-primary", :id => "shoppingList", remote: true %>
			</li>
		</section>
		<% end %>
	</aside>
	<div class="span8" id="recipes-section">
		<% if @tag || params[:search].present? %>
		<div class="filters">
			<strong>Filtering:</strong>
			<% if params[:search].present? %>
				<span class="filter"><%= params[:search] %> <%= link_to "x", params.merge(:search => nil, :page => nil) %></span>
			<% end %>
			<% if @tag %>
				<span class="filter"><%= @tag.name %> <%= link_to "x", params.merge(:tag => nil, :page => nil) %></span>
			<% end %>
		</div>
		<% end %>
		<h3><%= @recipes.count %> Recipes: 
			<% if params[:view].nil? %>
		    	full view
		    <% else %>
		    	<%= params[:view] %> view
		    <% end %>
		</h3>	
		<%= render "recipes" %>
		<%= will_paginate @recipes %>
	</div>
	<aside class="span2">
		<h4 id="views">
			<div class="btn-group">
				<button class='btn btn-primary' id="views">View:</button>
				<%= link_to params.merge(:view => nil, :page => nil), :title => "Full View", :class => 'btn btn-primary' do %>
					<i class="icon-th-list icon-white"></i>
				<% end %>
				<%= link_to params.merge(:view => "list", :page => nil), :title => "List View", :class => 'btn btn-primary' do%>
					<i class="icon-align-justify icon-white"></i>
				<% end %>				
				<%= link_to params.merge(:view => "grid", :page => nil), :title => "Grid View", :class => 'btn btn-primary' do%>
					<i class="icon-th-large icon-white"></i>
				<% end %>				
			</div>
		</h4>	
		<section>
		  <div class="categories">
		  	<h2>Categories</h2>
		  	  <ul>
		    	<% @all_tags.each do |tag| %>
					<li><%= link_to tag, tag_path(tag)%></li>
		    	<% end %>
		      </ul>
		  </div>
		</section>
		
	</aside>
</div>
